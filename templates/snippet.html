<h2 class="title-large">Domain: {{.DomainResult.Domain}}</h2>
{{if .DomainResult.Error}}
<div class="error">Error: {{.DomainResult.Error}}</div>
{{else}}
<div class="record-sections">
    <div class="record-section">
        <h3 class="record-title">'issue' Records ‚úÖ</h3>
        <p class="record-description">Specifies which Certificate Authorities (CAs) are authorized to issue certificates for this domain. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc8659#section-4.2" target="_blank" class="link-muted">RFC 8659 ¬ß4.2</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.Issue}}
            <ul>
            {{range .DomainResult.Issue}}
                <li>
                    <a href="/providers/{{normalizeCA .}}.html" 
                       hx-get="/snippets/providers/{{normalizeCA .}}.html" 
                       hx-target="#content" 
                       hx-push-url="/providers/{{normalizeCA .}}.html" 
                       class="link-primary">{{.}}</a>
                </li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'issue' records configured.</p>
            {{end}}
        </div>
    </div>

    <div class="record-section">
        <h3 class="record-title">'issuewild' Records ‚ú≥Ô∏è</h3>
        <p class="record-description">Specifies which CAs are authorized to issue wildcard certificates for this domain. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc8659#section-4.3" target="_blank" class="link-muted">RFC 8659 ¬ß4.3</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.IssueWild}}
            <ul>
            {{range .DomainResult.IssueWild}}
                <li>
                    <a href="/providers/{{normalizeCA .}}.html" 
                       hx-get="/snippets/providers/{{normalizeCA .}}.html" 
                       hx-target="#content" 
                       hx-push-url="/providers/{{normalizeCA .}}.html" 
                       class="link-primary">{{.}}</a>
                </li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'issuewild' records configured.</p>
            {{end}}
        </div>
    </div>

    <div class="record-section">
        <h3 class="record-title">'issuemail' Records üìß</h3>
        <p class="record-description">Specifies which CAs are authorized to issue S/MIME certificates for email addresses at this domain. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc9495#section-3" target="_blank" class="link-muted">RFC 9495 ¬ß3</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.IssueMail}}
            <ul>
            {{range .DomainResult.IssueMail}}
                <li>{{.}}</li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'issuemail' records configured.</p>
            {{end}}
        </div>
    </div>

    <div class="record-section">
        <h3 class="record-title">'iodef' Records üì¨</h3>
        <p class="record-description">Specifies a URL or email where CAs should report certificate issue requests or issuance. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc8659#section-4.4" target="_blank" class="link-muted">RFC 8659 ¬ß4.4</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.Iodef}}
            <ul>
            {{range .DomainResult.Iodef}}
                <li>{{.}}</li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'iodef' records configured.</p>
            {{end}}
        </div>
    </div>

    <div class="record-section">
        <h3 class="record-title">'contactemail' Records üì©</h3>
        <p class="record-description">Specifies an email address for the domain owner to be contacted about certificate-related issues. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc8659#section-4.5" target="_blank" class="link-muted">RFC 8659 ¬ß4.5</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.ContactEmail}}
            <ul>
            {{range .DomainResult.ContactEmail}}
                <li>{{.}}</li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'contactemail' records configured.</p>
            {{end}}
        </div>
    </div>

    <div class="record-section">
        <h3 class="record-title">'contactphone' Records üìû</h3>
        <p class="record-description">Specifies a phone number for the domain owner to be contacted about certificate-related issues. <span class="rfc-ref">(<a href="https://datatracker.ietf.org/doc/html/rfc8659#section-4.6" target="_blank" class="link-muted">RFC 8659 ¬ß4.6</a>)</span></p>
        <div class="record-content">
            {{if .DomainResult.ContactPhone}}
            <ul>
            {{range .DomainResult.ContactPhone}}
                <li>{{.}}</li>
            {{end}}
            </ul>
            {{else}}
            <p class="text-muted text-sm">No 'contactphone' records configured.</p>
            {{end}}
        </div>
    </div>

    {{if .DomainResult.Records}}
    <div class="record-section">
        <h3 class="record-title">Raw CAA DNS Response</h3>
        <p class="record-description">The complete raw CAA DNS records as returned by the DNS server.</p>
        <div class="record-content">
            <pre>{{range .DomainResult.Records}}{{.}}
{{end}}</pre>
        </div>
    </div>
    {{end}}
</div>
{{if not (or .DomainResult.Issue .DomainResult.IssueWild .DomainResult.Iodef .DomainResult.IssueMail .DomainResult.ContactEmail .DomainResult.ContactPhone .DomainResult.Records)}}
<p>No CAA records found for this domain.</p>
{{end}}
{{end}}
